(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){e.exports={App:"App_App__pKBOl","App-logo":"App_App-logo__2u-Mj","App-logo-spin":"App_App-logo-spin__2liTs","App-header":"App_App-header__4cjZ3","App-link":"App_App-link__-fE-Z"}},114:function(e,t){},206:function(e,t,a){e.exports=a(389)},211:function(e,t,a){},223:function(e,t){},229:function(e,t){},389:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),i=a.n(o),l=(a(211),a(213),a(28)),c=a(29),s=a(32),p=a(30),u=a(33),m=a(81),h=a(113),d=a.n(h),g=a(15),f=a(56),v=a.n(f),E=a(122),b=a.n(E),w=a(38),I={"App.title":"Tide Times","App.action.login":"Login","App.sidebar.title":"Sites"},y={"en-GB":I,en_GB:I,"en-UK":I,en_UK:I,"es-ES":{"App.title":"Tiempo de la Marea","App.action.login":"Login","App.sidebar.title":"Lugares"}},O=a(115),j=a.n(O),A=a(116),T=a.n(A),k=a(118),D=a(50),_=a.n(D),S=a(52),C=a.n(S),L=a(17),M=a.n(L),x=a(51),N=a.n(x),B=a(119),K=a.n(B),U=a(48),W=a.n(U),P=a(49),G=a.n(P),H=a(393),J={list:{width:250},fullList:{width:"auto"},root:{background:"yellow",color:"red"}},R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={drawIsOpen:!1,changed:!1},a.openTheDrawer=function(){a.setState({drawIsOpen:!0})},a.closeTheDrawer=function(){a.setState({drawIsOpen:!1})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=r.a.createElement("div",{className:t.list},r.a.createElement(W.a,null,["salcombe","exmouth","newquay"].map(function(t,a){return r.a.createElement(G.a,{button:!0,key:t},r.a.createElement("button",{type:"button",onClick:function(){return e.props.history.push("/?siteId="+t)}},t))})));return r.a.createElement("div",{className:J.root},r.a.createElement(k.a,{position:"sticky"},r.a.createElement(_.a,null,r.a.createElement(N.a,{className:J.menuButton,color:"inherit","aria-label":"Menu",onClick:this.openTheDrawer},r.a.createElement(K.a,null)),r.a.createElement(M.a,{variant:"h6",color:"inherit",className:J.grow},r.a.createElement(w.a,{id:"App.title",defaultMessage:"App.title"})))),this.props.children,r.a.createElement(C.a,{open:this.state.drawIsOpen,onClose:this.closeTheDrawer},r.a.createElement("div",{tabIndex:0,role:"button",onClick:this.closeTheDrawer,onKeyDown:this.closeTheDrawer},a)))}}]),t}(n.Component),Z=Object(H.a)(Object(g.withStyles)(J)(R)),q=a(121),F=a.n(q),V=a(53),$=a.n(V),z=a(55),Q=a.n(z),X=a(23),Y=a.n(X),ee=a(54),te=a.n(ee),ae=a(31),ne=a.n(ae),re=a(60),oe=a.n(re),ie=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(s.a)(this,Object(p.a)(t).call(this,e))).state={loading:!1,siteId:"salcombe"},a.loadData=function(e){e=e||"salcombe",console.log("TideTimes.loadData() siteId = "+e),a.setState({loading:!0,siteId:e}),F.a.get("https://opalescent-radiator.glitch.me?locationId="+e,{crossdomain:!0}).then(function(t){console.log(t.data);var n=t.data;a.setState({siteId:e,loading:!1,json:n})}).catch(function(t){console.error("error: ",t),a.setState({siteId:e,error:"".concat(t),loading:!1})})};var n=oe.a.parse(a.props.location.search);return n.siteId&&(a.state.siteId=n.siteId),console.log("TideTimes.constructor() Site = "+a.state.siteId),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=oe.a.parse(this.props.location.search);console.log("TideTimes.componentDidMount() Site = "+e.siteId),this.loadData(e.siteId)}},{key:"componentWillReceiveProps",value:function(e){console.log("TideTimes.componentWillReceiveProps() props = "),console.log(e);var t=oe.a.parse(e.location.search);this.loadData(t.siteId?t.siteId:this.state.siteId)}},{key:"ucfirst",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"render",value:function(){console.log("TideTimes.render() siteId = "+this.state.siteId);var e=this.state,t=e.loading,a=e.error,n=e.siteId,o=e.json;if(!n)return r.a.createElement(M.a,{variant:"h3"},"No Site ID");if(t)return r.a.createElement(M.a,{variant:"h3"},"Loading...");if(!o)return r.a.createElement(M.a,{variant:"h3"});if(a)return r.a.createElement(M.a,{variant:"h4"},"There was an error loading the repos."," ",r.a.createElement("button",{onClick:this.loadData},"Try again"));var i=[];if(o[n]){console.log(o);var l=o[n][0].height<o[n][1].height;o[n].forEach(function(e,t){i.push(l),l=!l})}return r.a.createElement("div",null,r.a.createElement(M.a,{variant:"h4"},this.ucfirst(n)),r.a.createElement(M.a,{variant:"caption"},(new Date).toDateString()),r.a.createElement($.a,null,r.a.createElement(te.a,null,r.a.createElement(ne.a,null,r.a.createElement(Y.a,null,r.a.createElement(M.a,{variant:"h5"},"Time")),r.a.createElement(Y.a,null,r.a.createElement(M.a,{variant:"h5"},"Height (meters)")))),r.a.createElement(Q.a,null,o[n]?o[n].map(function(e,t){return e?r.a.createElement(ne.a,{key:t},r.a.createElement(Y.a,null,r.a.createElement(M.a,{variant:"h6"},e.time)),r.a.createElement(Y.a,null,r.a.createElement(M.a,{variant:"h6"},e.height," (",i[t]?"L":"H",")"))):r.a.createElement(ne.a,{key:t})}):null)))}}]),t}(n.Component),le=a(392),ce=a(394),se=a(391);Object(w.c)(Object(m.a)(j.a).concat(Object(m.a)(T.a)));var pe=navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage||"en-US",ue=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).startSiteId="salcombe",a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=Object(g.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:b.a,background:{paper:"#ffffff",default:"#fafafa"}}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null),r.a.createElement(g.MuiThemeProvider,{theme:e},r.a.createElement(w.b,{locale:pe,messages:y[pe]},r.a.createElement(le.a,null,r.a.createElement(Z,null,r.a.createElement(ce.a,null,r.a.createElement(se.a,{path:"/",exact:!0,component:ie}),r.a.createElement(se.a,{path:"/?siteId=:siteId",exact:!0,component:ie}),r.a.createElement(se.a,{component:function(){return r.a.createElement("h1",null,"No path in router")}})," "))))))}}]),t}(n.Component),me=Object(g.withStyles)(d.a)(ue);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var he=navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage;i.a.render(r.a.createElement(me,{lang:he}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[206,2,1]]]);
//# sourceMappingURL=main.a1dc9692.chunk.js.map